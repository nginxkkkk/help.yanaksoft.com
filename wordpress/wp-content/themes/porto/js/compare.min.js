(function(t,o){"use strict";t=t||{},o(document).ready((function(){o("body").on("click",".wishlist_table a.compare.added",(function(e){e.preventDefault(),o("body").trigger("yith_woocompare_open_popup",{response:t.add_query_arg("action",yith_woocompare.actionview)+"&iframe=true"})})),o(document).off("click",".product a.compare:not(.added)").on("click",".product a.compare:not(.added), .wishlist_table a.compare:not(.added)",(function(e){e.preventDefault(),void 0!==t.comparePopup&&t.comparePopup.initialize(o(this));var i=o(this),a={action:yith_woocompare.actionadd,id:i.data("product_id"),context:"frontend",security:yith_woocompare.add_nonce},r=o(".yith-woocompare-widget ul.products-list");i.addClass("added"),o.ajax({type:"post",url:yith_woocompare.ajaxurl.toString().replace("%%endpoint%%",yith_woocompare.actionadd),data:a,dataType:"json",success:function(t){o(".yith-woocompare-open .compare-count").each((function(){this.innerHTML=parseInt(this.innerHTML)+1}));var e="";i.data("added_icon")&&(e+='<i class="'+i.data("added_icon")+'"></i>');var a=yith_woocompare.added_label;i.attr("data-bs-original-title",a),"hide"==i.data("hide_title")&&(a=""),i.attr("href",t.table_url).html(i.data("icon_pos")?a+e:e+a),r.html(t.widget_table),"undefined"!=typeof yith_woocompare&&"yes"==yith_woocompare.auto_open&&i.trigger("click")}}).fail((function(){i.removeClass("added")}))}))})),o("body").on("click","a.yith-woocompare-open, .product a.compare.added, .wishlist_table a.compare.added",(function(){var t=window.innerWidth-document.body.clientWidth;o("html").css({overflow:"hidden","margin-right":t})})),js_porto_vars.compare_popup&&o.extend(t,{comparePopup:{isCart:!0,popupContainer:null,$el:null,initialize:function(t){return this.$el=t,0==o(".after-loading-success-message.style-3").length?(o("body").append('<div class="after-loading-success-message style-3 d-block"></div>'),this.isCart=!1,this.popupContainer=o(".after-loading-success-message.style-3")):(this.popupContainer=o(".after-loading-success-message.style-3"),this.popupContainer.eq(0).stop().show()),this.popupContainer.data("inited")||(this.popupContainer.on("click",".compare-close",(function(){var t=o(this).closest(".success-message-container");t.removeClass("active"),setTimeout((function(){t.slideUp(300,(function(){t.remove()}))}),350)})),this.popupContainer.data("inited",!0)),this.build(),this},build:function(){var t=this;if(js_porto_vars.compare_popup&&(!yith_woocompare||yith_woocompare&&"no"==yith_woocompare.auto_open)){t=this;var e=o(".wishlist_table").length>0,i=e?t.$el.closest("tr"):t.$el.closest(".product"),a="string"==typeof js_porto_vars.compare_popup_title?js_porto_vars.compare_popup_title:"",r=e?i.find(".product-thumbnail a:first-child").attr("href"):i.find(".product-image>a:first-child").length>0?i.find(".product-image>a:first-child").attr("href"):"#",n=e?i.find(".product-thumbnail img").attr("src"):i.find(".product-inner .product-image img").length>0?i.find(".product-inner .product-image img").attr("src"):i.find(".product-images .owl-item.active .img-thumbnail img").attr("src"),c=e?i.find(".product-price").html():i.find(".price").html(),d=e?i.find(".product-name a").text():1==i.find(".woocommerce-loop-product__title").length?i.find(".woocommerce-loop-product__title").text():i.find(".product_title").text();if(!n&&i.find(".product-image img").length){n=i.find(".product-image img").attr("src");var p=i.find(".product-images img");i.find(".product-image").closest(".product-nav")&&p.length&&(n=p.attr("src"),p.attr("data-oi")&&(n=p.attr("data-oi")))}!d&&i.find(".product-image").length&&(d=i.find(".product-image").data("title"));var s=o('<div class="compare-msg success-message-container"><p class="compare-popup-title">'+a+'</p><div class="msg-box mb-0"><div class="msg"><div class="product-name"><a href="'+r+'"><h3 class="product-title font-weight-bold line-height-sm mb-1">'+d+'</h3></a></div><span class="price text-primary">'+c+'</span></div><img src="'+n+'" alt="'+d+'"/></div><button class="compare-close mfp-close"></button></div>');t.popupContainer.prepend(s),setTimeout((function(){s.addClass("active")}),150),setTimeout((function(){s.find(".compare-close").trigger("click")}),4e3)}return t}}})}).apply(this,[window.theme,jQuery]),function(t){var o="";t("#yith-woocompare.woocommerce").length&&(t(document).on("click",".remove a",(function(){o=t(this).data("product_id")})),t(window).on("yith_woocompare_product_removed",(function(){var e=t('.porto-tb-compare[data-product_id="'+o+'"]',window.parent.document);e.html('<i class="'+e.data("add_icon")+'"></i>'+("hide"==e.data("hide_title")?"":e.html())),t('.compare[data-product_id="'+o+'"]',window.parent.document).attr("data-bs-original-title",yith_woocompare.button_text),t(".yith-woocompare-open .compare-count",window.parent.document).each((function(){this.innerHTML=Math.max(0,parseInt(this.innerHTML)-1)}))})))}(window.jQuery);